{
  "lockfile-version": 1,
  "manifest": {
    "version": 1,
    "install": {
      "cocoapods": {
        "pkg-path": "cocoapods",
        "systems": [
          "x86_64-darwin",
          "aarch64-darwin"
        ]
      },
      "gradle": {
        "pkg-path": "gradle"
      },
      "jdk17": {
        "pkg-path": "jdk17"
      },
      "yarn": {
        "pkg-path": "yarn-berry",
        "version": "4.12.0"
      }
    },
    "hook": {
      "on-activate": "    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n \n    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n \n    yarn\n \n    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n \n    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n \n    yarn\n \n    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n \n    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n \n    yarn\n "
    },
    "profile": {},
    "options": {},
    "services": {
      "android-emulator-latest": {
        "command": "bash -lc '\nset -euo pipefail\n\nsdk_root=\"${ANDROID_SDK_ROOT:-${ANDROID_HOME:-}}\"\nemulator_bin=\"${ANDROID_EMULATOR_BIN:-${sdk_root}/emulator/emulator}\"\navdmanager_bin=\"${AVDMANAGER_BIN:-${sdk_root}/cmdline-tools/latest/bin/avdmanager}\"\narch=\"$(uname -m)\"\n\navd_name=\"${ANDROID_AVD:-}\"\nsystem_image=\"${ANDROID_SYSTEM_IMAGE:-}\"\n\nif [ -z \"$avd_name\" ]; then\n  if [ \"$arch\" = \"arm64\" ] || [ \"$arch\" = \"aarch64\" ]; then\n    avd_name=\"${ANDROID_AVD_LATEST_ARM:-medium_phone_API33_arm64_v8a}\"\n  else\n    avd_name=\"${ANDROID_AVD_LATEST_X86:-medium_phone_API33_x86_64}\"\n  fi\nfi\n\nif [ -z \"$system_image\" ]; then\n  if [ \"$arch\" = \"arm64\" ] || [ \"$arch\" = \"aarch64\" ]; then\n    system_image=\"${ANDROID_SYSTEM_IMAGE_LATEST_ARM:-system-images;android-33;google_apis;arm64-v8a}\"\n  else\n    system_image=\"${ANDROID_SYSTEM_IMAGE_LATEST_X86:-system-images;android-33;google_apis;x86_64}\"\n  fi\nfi\n\nif [ -z \"$sdk_root\" ] || [ ! -x \"$emulator_bin\" ]; then\n  echo \"Android SDK not available; activate the environment first.\" >&2\n  exit 1\nfi\n\nif [ ! -x \"$avdmanager_bin\" ] && command -v avdmanager >/dev/null 2>&1; then\n  avdmanager_bin=\"$(command -v avdmanager)\"\nfi\n\nmkdir -p \"${ANDROID_AVD_HOME:-$HOME/.android/avd}\"\n\nif ! \"$emulator_bin\" -list-avds | grep -q \"^${avd_name}$\"; then\n  if [ -z \"$avdmanager_bin\" ] || [ ! -x \"$avdmanager_bin\" ]; then\n    echo \"avdmanager not found; cannot create ${avd_name}\" >&2\n    exit 1\n  fi\n  yes \"\" | \"$avdmanager_bin\" create avd -n \"$avd_name\" -k \"$system_image\" --force >/dev/null\nfi\n\nemu_flags=\"${ANDROID_EMULATOR_FLAGS:-\"-no-boot-anim -netdelay none -netspeed full -no-snapshot\"}\"\nheadless_flags=\"${ANDROID_EMULATOR_HEADLESS_FLAGS:-}\"\n\nexec \"$emulator_bin\" -avd \"$avd_name\" $emu_flags $headless_flags\n'\n"
      },
      "android-emulator-min": {
        "command": "bash -lc '\nset -euo pipefail\n\navd_name=\"${ANDROID_AVD:-${ANDROID_AVD_MIN:-pixel_API21_x86_64}}\"\nsystem_image=\"${ANDROID_SYSTEM_IMAGE:-${ANDROID_SYSTEM_IMAGE_MIN:-system-images;android-21;google_apis;x86_64}}\"\nsdk_root=\"${ANDROID_SDK_ROOT:-${ANDROID_HOME:-}}\"\nemulator_bin=\"${ANDROID_EMULATOR_BIN:-${sdk_root}/emulator/emulator}\"\navdmanager_bin=\"${AVDMANAGER_BIN:-${sdk_root}/cmdline-tools/latest/bin/avdmanager}\"\n\nif [ -z \"$sdk_root\" ] || [ ! -x \"$emulator_bin\" ]; then\n  echo \"Android SDK not available; activate the environment first.\" >&2\n  exit 1\nfi\n\nif [ ! -x \"$avdmanager_bin\" ] && command -v avdmanager >/dev/null 2>&1; then\n  avdmanager_bin=\"$(command -v avdmanager)\"\nfi\n\nmkdir -p \"${ANDROID_AVD_HOME:-$HOME/.android/avd}\"\n\nif ! \"$emulator_bin\" -list-avds | grep -q \"^${avd_name}$\"; then\n  if [ -z \"$avdmanager_bin\" ] || [ ! -x \"$avdmanager_bin\" ]; then\n    echo \"avdmanager not found; cannot create ${avd_name}\" >&2\n    exit 1\n  fi\n  yes \"\" | \"$avdmanager_bin\" create avd -n \"$avd_name\" -k \"$system_image\" --force >/dev/null\nfi\n\nemu_flags=\"${ANDROID_EMULATOR_FLAGS:-\"-no-boot-anim -netdelay none -netspeed full -no-snapshot\"}\"\nheadless_flags=\"${ANDROID_EMULATOR_HEADLESS_FLAGS:-}\"\n\nexec \"$emulator_bin\" -avd \"$avd_name\" $emu_flags $headless_flags\n'\n"
      },
      "ios-simulator-latest": {
        "command": "bash -lc '\nset -euo pipefail\n\ndevice_name=\"${IOS_SIM_DEVICE:-${IOS_SIM_LATEST_DEVICE:-iPhone 17}}\"\nruntime=\"${IOS_SIM_RUNTIME:-${IOS_SIM_LATEST_RUNTIME:-26.1}}\"\nruntime_id=\"$runtime\"\n\nif [[ \"$runtime_id\" =~ ^[0-9] ]]; then\n  runtime_id=\"com.apple.CoreSimulator.SimRuntime.iOS-${runtime_id//./-}\"\nfi\n\nexport IOS_DEVICE_NAME=\"$device_name\"\nexport IOS_RUNTIME_ID=\"$runtime_id\"\n\nudid=$(IOS_DEVICE_NAME=\"$device_name\" IOS_RUNTIME_ID=\"$runtime_id\" python3 - <<\"PY\"\nimport json, os, subprocess, sys\n\ndevice_name = os.environ[\"IOS_DEVICE_NAME\"]\nruntime_id = os.environ[\"IOS_RUNTIME_ID\"]\n\ndef run_json(cmd):\n    return json.loads(subprocess.check_output(cmd).decode())\n\ndef first_available_device():\n    for runtime, devs in run_json([\"xcrun\", \"simctl\", \"list\", \"devices\", \"-j\"]).get(\"devices\", {}).items():\n        for dev in devs or []:\n            if not dev.get(\"isAvailable\"):\n                continue\n            if dev.get(\"name\") == device_name and (not runtime_id or runtime == runtime_id):\n                return dev.get(\"udid\") or \"\"\n    return \"\"\n\ndef resolve_device_type():\n    for entry in run_json([\"xcrun\", \"simctl\", \"list\", \"devicetypes\", \"-j\"]).get(\"devicetypes\", []):\n        if entry.get(\"name\") == device_name:\n            return entry.get(\"identifier\")\n    return None\n\nudid = first_available_device()\nif not udid:\n    device_type = resolve_device_type()\n    if not device_type:\n        print(f\"Device type not found for {device_name}\", file=sys.stderr)\n        sys.exit(1)\n    udid = subprocess.check_output([\"xcrun\", \"simctl\", \"create\", device_name, device_type, runtime_id]).decode().strip()\n\nprint(udid)\nPY\n)\n\nif [ -z \"$udid\" ]; then\n  echo \"Failed to resolve simulator UDID for ${device_name} (${runtime_id})\" >&2\n  exit 1\nfi\n\nxcrun simctl boot \"$udid\" || true\nxcrun simctl bootstatus \"$udid\" -b\n\nif [ -z \"${DETOX_IOS_DEVICE:-}\" ]; then\n  export DETOX_IOS_DEVICE=\"$device_name\"\nfi\n\nexec tail -f /dev/null\n'\n"
      },
      "ios-simulator-min": {
        "command": "bash -lc '\nset -euo pipefail\n\ndevice_name=\"${IOS_SIM_DEVICE:-${IOS_SIM_MIN_DEVICE:-iPhone 14}}\"\nruntime=\"${IOS_SIM_RUNTIME:-${IOS_SIM_MIN_RUNTIME:-18.5}}\"\nruntime_id=\"$runtime\"\n\nif [[ \"$runtime_id\" =~ ^[0-9] ]]; then\n  runtime_id=\"com.apple.CoreSimulator.SimRuntime.iOS-${runtime_id//./-}\"\nfi\n\nexport IOS_DEVICE_NAME=\"$device_name\"\nexport IOS_RUNTIME_ID=\"$runtime_id\"\n\nudid=$(IOS_DEVICE_NAME=\"$device_name\" IOS_RUNTIME_ID=\"$runtime_id\" python3 - <<\"PY\"\nimport json, os, subprocess, sys\n\ndevice_name = os.environ[\"IOS_DEVICE_NAME\"]\nruntime_id = os.environ[\"IOS_RUNTIME_ID\"]\n\ndef run_json(cmd):\n    return json.loads(subprocess.check_output(cmd).decode())\n\ndef first_available_device():\n    for runtime, devs in run_json([\"xcrun\", \"simctl\", \"list\", \"devices\", \"-j\"]).get(\"devices\", {}).items():\n        for dev in devs or []:\n            if not dev.get(\"isAvailable\"):\n                continue\n            if dev.get(\"name\") == device_name and (not runtime_id or runtime == runtime_id):\n                return dev.get(\"udid\") or \"\"\n    return \"\"\n\ndef resolve_device_type():\n    for entry in run_json([\"xcrun\", \"simctl\", \"list\", \"devicetypes\", \"-j\"]).get(\"devicetypes\", []):\n        if entry.get(\"name\") == device_name:\n            return entry.get(\"identifier\")\n    return None\n\nudid = first_available_device()\nif not udid:\n    device_type = resolve_device_type()\n    if not device_type:\n        print(f\"Device type not found for {device_name}\", file=sys.stderr)\n        sys.exit(1)\n    udid = subprocess.check_output([\"xcrun\", \"simctl\", \"create\", device_name, device_type, runtime_id]).decode().strip()\n\nprint(udid)\nPY\n)\n\nif [ -z \"$udid\" ]; then\n  echo \"Failed to resolve simulator UDID for ${device_name} (${runtime_id})\" >&2\n  exit 1\nfi\n\nxcrun simctl boot \"$udid\" || true\nxcrun simctl bootstatus \"$udid\" -b\n\nif [ -z \"${DETOX_IOS_DEVICE:-}\" ]; then\n  export DETOX_IOS_DEVICE=\"$device_name\"\nfi\n\nexec tail -f /dev/null\n'\n"
      }
    },
    "build": {
      "analytics-react-native": {
        "command": "  set -euo pipefail\n  project_root=\"${PROJECT_ROOT:-$(git rev-parse --show-toplevel 2>/dev/null || pwd)}\"\n  cd \"$project_root\"\n  yarn install --immutable\n  yarn build\n  yarn lint\n  yarn test --coverage\n  out_dir=\"${out:-${OUT:-}}\"\n  if [ -n \"${out_dir:-}\" ]; then\n    mkdir -p \"$out_dir/artifacts\"\n    for pkg in packages/core packages/sovran packages/shared packages/plugins/*; do\n      if [ -d \"$pkg/lib\" ]; then\n        dest=\"$out_dir/artifacts/$(basename \"$pkg\")\"\n        mkdir -p \"$dest\"\n        cp -R \"$pkg/lib\" \"$dest/\"\n      fi\n    done\n    if [ -d coverage ]; then\n      cp -R coverage \"$out_dir/coverage\"\n    fi\n  fi\n",
        "description": "Yarn install, build, lint, and test the monorepo"
      }
    }
  },
  "packages": [
    {
      "attr_path": "cocoapods",
      "broken": false,
      "derivation": "/nix/store/256rcn7cqsimacisbfw0am6p9k3c1bg4-cocoapods-1.16.2.drv",
      "description": "Manages dependencies for your Xcode projects",
      "install_id": "cocoapods",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "cocoapods-1.16.2",
      "pname": "cocoapods",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T04:27:53.946649Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "1.16.2",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/av5g6hfp0yiir3iavg72js70ian8hxyf-cocoapods-1.16.2"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "cocoapods",
      "broken": false,
      "derivation": "/nix/store/ksmn2n54sby6rxxs3j515hz68j7s7x8x-cocoapods-1.16.2.drv",
      "description": "Manages dependencies for your Xcode projects",
      "install_id": "cocoapods",
      "license": "MIT",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "cocoapods-1.16.2",
      "pname": "cocoapods",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:34:05.777201Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "1.16.2",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/har71589bwmh6h6skisd20b3c6lrwmz7-cocoapods-1.16.2"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gradle",
      "broken": false,
      "derivation": "/nix/store/byb838v8rcxdql3w6cx153f9353x79hi-gradle-8.14.3.drv",
      "description": "Enterprise-grade build system",
      "install_id": "gradle",
      "license": "Apache-2.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "gradle-8.14.3",
      "pname": "gradle",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T04:27:54.942580Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.14.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/v2xbkgrvn0b4g4qq7j5x60va0d4gf0kw-gradle-8.14.3"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gradle",
      "broken": false,
      "derivation": "/nix/store/vvq6pjywqyxdk8zdbb217chzahg3iyck-gradle-8.14.3.drv",
      "description": "Enterprise-grade build system",
      "install_id": "gradle",
      "license": "Apache-2.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "gradle-8.14.3",
      "pname": "gradle",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:02:21.362203Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.14.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/mvs8d5c60yyx3sxpppg1r67yjvlrrhhh-gradle-8.14.3"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gradle",
      "broken": false,
      "derivation": "/nix/store/imj8fv0d6x3knhjh4sdw4hp5ax8ramhs-gradle-8.14.3.drv",
      "description": "Enterprise-grade build system",
      "install_id": "gradle",
      "license": "Apache-2.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "gradle-8.14.3",
      "pname": "gradle",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:34:06.784996Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.14.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/jy3fpkvcymjaglzi9z2gbpzcyqypgfxh-gradle-8.14.3"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "gradle",
      "broken": false,
      "derivation": "/nix/store/hszbdb4bbpl6qw5li8wyrhf96vvfk2m4-gradle-8.14.3.drv",
      "description": "Enterprise-grade build system",
      "install_id": "gradle",
      "license": "Apache-2.0",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "gradle-8.14.3",
      "pname": "gradle",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T06:20:21.844293Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "8.14.3",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/80fgl9ffaxlxl9s4i1jb37krcljx669g-gradle-8.14.3"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "jdk17",
      "broken": false,
      "derivation": "/nix/store/87rnl1qkmwrkkzmk0xhnzwak8h9mxdsr-zulu-ca-jdk-17.0.12.drv",
      "description": "Certified builds of OpenJDK",
      "install_id": "jdk17",
      "license": "GPL-2.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "zulu-ca-jdk-17.0.12",
      "pname": "jdk17",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T04:28:09.553266Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "17.0.12",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/s9nq23qm9animys49h7g7w660jz4ccwz-zulu-ca-jdk-17.0.12"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "jdk17",
      "broken": false,
      "derivation": "/nix/store/sxpzi41bvnl26cy79j9zk3vvlslpbxnx-openjdk-17.0.17+10.drv",
      "description": "Open-source Java Development Kit",
      "install_id": "jdk17",
      "license": "GPL-2.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "openjdk-17.0.17+10",
      "pname": "jdk17",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:02:38.984999Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "17.0.17+10",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "debug": "/nix/store/x61h0zs6dawi6i6946c30p9qmn8r45q8-openjdk-17.0.17+10-debug",
        "out": "/nix/store/qkzq9lxji4zs1dgdlxwwwknaggij5lag-openjdk-17.0.17+10"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "jdk17",
      "broken": false,
      "derivation": "/nix/store/rq1jxlr68pjj9ws31zazwgam60s3smn0-zulu-ca-jdk-17.0.12.drv",
      "description": "Certified builds of OpenJDK",
      "install_id": "jdk17",
      "license": "GPL-2.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "zulu-ca-jdk-17.0.12",
      "pname": "jdk17",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:34:21.121887Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "17.0.12",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/n1rp0ay6dp66yvr2dzwn840hcnpk8010-zulu-ca-jdk-17.0.12"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "jdk17",
      "broken": false,
      "derivation": "/nix/store/p4fc4qy06b89x4yg2kfch2fypfl73iz1-openjdk-17.0.17+10.drv",
      "description": "Open-source Java Development Kit",
      "install_id": "jdk17",
      "license": "GPL-2.0-only",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "openjdk-17.0.17+10",
      "pname": "jdk17",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T06:20:40.942126Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "17.0.17+10",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "debug": "/nix/store/7hk6cjcmfgml2nq293g7cdsx8nrab3ir-openjdk-17.0.17+10-debug",
        "out": "/nix/store/4xlra07s99b60kj0md6drgh0qmrkdpby-openjdk-17.0.17+10"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "yarn-berry",
      "broken": false,
      "derivation": "/nix/store/sy0jbfhah2dkmxf9ngd4j5wpymj61s8z-yarn-berry-4.12.0.drv",
      "description": "Fast, reliable, and secure dependency management",
      "install_id": "yarn",
      "license": "BSD-2-Clause",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "yarn-berry-4.12.0",
      "pname": "yarn-berry",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T04:30:38.337965Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "4.12.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/2l7sbyyqardvrzr35zkrw67gbng5gb8y-yarn-berry-4.12.0"
      },
      "system": "aarch64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "yarn-berry",
      "broken": false,
      "derivation": "/nix/store/jzxis6qs5mb2lc9lx7xndv5vqmkx10x0-yarn-berry-4.12.0.drv",
      "description": "Fast, reliable, and secure dependency management",
      "install_id": "yarn",
      "license": "BSD-2-Clause",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "yarn-berry-4.12.0",
      "pname": "yarn-berry",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:05:45.606272Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "4.12.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/klx9ndw1djgx0zhhyrkcn9an094rmmwv-yarn-berry-4.12.0"
      },
      "system": "aarch64-linux",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "yarn-berry",
      "broken": false,
      "derivation": "/nix/store/pjdps1mpblxfbmppb8b5wds8mzzjar2m-yarn-berry-4.12.0.drv",
      "description": "Fast, reliable, and secure dependency management",
      "install_id": "yarn",
      "license": "BSD-2-Clause",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "yarn-berry-4.12.0",
      "pname": "yarn-berry",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T05:36:38.743524Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "4.12.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/m6cwiya6hrbwnlprh2cbnmz6c7mkylrf-yarn-berry-4.12.0"
      },
      "system": "x86_64-darwin",
      "group": "toplevel",
      "priority": 5
    },
    {
      "attr_path": "yarn-berry",
      "broken": false,
      "derivation": "/nix/store/v5xk5ivmrak80ppdcz4jpindj21xy6va-yarn-berry-4.12.0.drv",
      "description": "Fast, reliable, and secure dependency management",
      "install_id": "yarn",
      "license": "BSD-2-Clause",
      "locked_url": "https://github.com/flox/nixpkgs?rev=80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "name": "yarn-berry-4.12.0",
      "pname": "yarn-berry",
      "rev": "80e4adbcf8992d3fd27ad4964fbb84907f9478b0",
      "rev_count": 930839,
      "rev_date": "2026-01-20T05:17:20Z",
      "scrape_date": "2026-01-22T06:24:08.258012Z",
      "stabilities": [
        "unstable"
      ],
      "unfree": false,
      "version": "4.12.0",
      "outputs_to_install": [
        "out"
      ],
      "outputs": {
        "out": "/nix/store/q1gys3zgijcciiafbh9nfawkx5wj8179-yarn-berry-4.12.0"
      },
      "system": "x86_64-linux",
      "group": "toplevel",
      "priority": 5
    }
  ],
  "compose": {
    "composer": {
      "version": 1,
      "hook": {},
      "profile": {},
      "options": {},
      "services": {
        "android-emulator-latest": {
          "command": "bash -lc '\nset -euo pipefail\n\nsdk_root=\"${ANDROID_SDK_ROOT:-${ANDROID_HOME:-}}\"\nemulator_bin=\"${ANDROID_EMULATOR_BIN:-${sdk_root}/emulator/emulator}\"\navdmanager_bin=\"${AVDMANAGER_BIN:-${sdk_root}/cmdline-tools/latest/bin/avdmanager}\"\narch=\"$(uname -m)\"\n\navd_name=\"${ANDROID_AVD:-}\"\nsystem_image=\"${ANDROID_SYSTEM_IMAGE:-}\"\n\nif [ -z \"$avd_name\" ]; then\n  if [ \"$arch\" = \"arm64\" ] || [ \"$arch\" = \"aarch64\" ]; then\n    avd_name=\"${ANDROID_AVD_LATEST_ARM:-medium_phone_API33_arm64_v8a}\"\n  else\n    avd_name=\"${ANDROID_AVD_LATEST_X86:-medium_phone_API33_x86_64}\"\n  fi\nfi\n\nif [ -z \"$system_image\" ]; then\n  if [ \"$arch\" = \"arm64\" ] || [ \"$arch\" = \"aarch64\" ]; then\n    system_image=\"${ANDROID_SYSTEM_IMAGE_LATEST_ARM:-system-images;android-33;google_apis;arm64-v8a}\"\n  else\n    system_image=\"${ANDROID_SYSTEM_IMAGE_LATEST_X86:-system-images;android-33;google_apis;x86_64}\"\n  fi\nfi\n\nif [ -z \"$sdk_root\" ] || [ ! -x \"$emulator_bin\" ]; then\n  echo \"Android SDK not available; activate the environment first.\" >&2\n  exit 1\nfi\n\nif [ ! -x \"$avdmanager_bin\" ] && command -v avdmanager >/dev/null 2>&1; then\n  avdmanager_bin=\"$(command -v avdmanager)\"\nfi\n\nmkdir -p \"${ANDROID_AVD_HOME:-$HOME/.android/avd}\"\n\nif ! \"$emulator_bin\" -list-avds | grep -q \"^${avd_name}$\"; then\n  if [ -z \"$avdmanager_bin\" ] || [ ! -x \"$avdmanager_bin\" ]; then\n    echo \"avdmanager not found; cannot create ${avd_name}\" >&2\n    exit 1\n  fi\n  yes \"\" | \"$avdmanager_bin\" create avd -n \"$avd_name\" -k \"$system_image\" --force >/dev/null\nfi\n\nemu_flags=\"${ANDROID_EMULATOR_FLAGS:-\"-no-boot-anim -netdelay none -netspeed full -no-snapshot\"}\"\nheadless_flags=\"${ANDROID_EMULATOR_HEADLESS_FLAGS:-}\"\n\nexec \"$emulator_bin\" -avd \"$avd_name\" $emu_flags $headless_flags\n'\n"
        },
        "android-emulator-min": {
          "command": "bash -lc '\nset -euo pipefail\n\navd_name=\"${ANDROID_AVD:-${ANDROID_AVD_MIN:-pixel_API21_x86_64}}\"\nsystem_image=\"${ANDROID_SYSTEM_IMAGE:-${ANDROID_SYSTEM_IMAGE_MIN:-system-images;android-21;google_apis;x86_64}}\"\nsdk_root=\"${ANDROID_SDK_ROOT:-${ANDROID_HOME:-}}\"\nemulator_bin=\"${ANDROID_EMULATOR_BIN:-${sdk_root}/emulator/emulator}\"\navdmanager_bin=\"${AVDMANAGER_BIN:-${sdk_root}/cmdline-tools/latest/bin/avdmanager}\"\n\nif [ -z \"$sdk_root\" ] || [ ! -x \"$emulator_bin\" ]; then\n  echo \"Android SDK not available; activate the environment first.\" >&2\n  exit 1\nfi\n\nif [ ! -x \"$avdmanager_bin\" ] && command -v avdmanager >/dev/null 2>&1; then\n  avdmanager_bin=\"$(command -v avdmanager)\"\nfi\n\nmkdir -p \"${ANDROID_AVD_HOME:-$HOME/.android/avd}\"\n\nif ! \"$emulator_bin\" -list-avds | grep -q \"^${avd_name}$\"; then\n  if [ -z \"$avdmanager_bin\" ] || [ ! -x \"$avdmanager_bin\" ]; then\n    echo \"avdmanager not found; cannot create ${avd_name}\" >&2\n    exit 1\n  fi\n  yes \"\" | \"$avdmanager_bin\" create avd -n \"$avd_name\" -k \"$system_image\" --force >/dev/null\nfi\n\nemu_flags=\"${ANDROID_EMULATOR_FLAGS:-\"-no-boot-anim -netdelay none -netspeed full -no-snapshot\"}\"\nheadless_flags=\"${ANDROID_EMULATOR_HEADLESS_FLAGS:-}\"\n\nexec \"$emulator_bin\" -avd \"$avd_name\" $emu_flags $headless_flags\n'\n"
        },
        "ios-simulator-latest": {
          "command": "bash -lc '\nset -euo pipefail\n\ndevice_name=\"${IOS_SIM_DEVICE:-${IOS_SIM_LATEST_DEVICE:-iPhone 17}}\"\nruntime=\"${IOS_SIM_RUNTIME:-${IOS_SIM_LATEST_RUNTIME:-26.1}}\"\nruntime_id=\"$runtime\"\n\nif [[ \"$runtime_id\" =~ ^[0-9] ]]; then\n  runtime_id=\"com.apple.CoreSimulator.SimRuntime.iOS-${runtime_id//./-}\"\nfi\n\nexport IOS_DEVICE_NAME=\"$device_name\"\nexport IOS_RUNTIME_ID=\"$runtime_id\"\n\nudid=$(IOS_DEVICE_NAME=\"$device_name\" IOS_RUNTIME_ID=\"$runtime_id\" python3 - <<\"PY\"\nimport json, os, subprocess, sys\n\ndevice_name = os.environ[\"IOS_DEVICE_NAME\"]\nruntime_id = os.environ[\"IOS_RUNTIME_ID\"]\n\ndef run_json(cmd):\n    return json.loads(subprocess.check_output(cmd).decode())\n\ndef first_available_device():\n    for runtime, devs in run_json([\"xcrun\", \"simctl\", \"list\", \"devices\", \"-j\"]).get(\"devices\", {}).items():\n        for dev in devs or []:\n            if not dev.get(\"isAvailable\"):\n                continue\n            if dev.get(\"name\") == device_name and (not runtime_id or runtime == runtime_id):\n                return dev.get(\"udid\") or \"\"\n    return \"\"\n\ndef resolve_device_type():\n    for entry in run_json([\"xcrun\", \"simctl\", \"list\", \"devicetypes\", \"-j\"]).get(\"devicetypes\", []):\n        if entry.get(\"name\") == device_name:\n            return entry.get(\"identifier\")\n    return None\n\nudid = first_available_device()\nif not udid:\n    device_type = resolve_device_type()\n    if not device_type:\n        print(f\"Device type not found for {device_name}\", file=sys.stderr)\n        sys.exit(1)\n    udid = subprocess.check_output([\"xcrun\", \"simctl\", \"create\", device_name, device_type, runtime_id]).decode().strip()\n\nprint(udid)\nPY\n)\n\nif [ -z \"$udid\" ]; then\n  echo \"Failed to resolve simulator UDID for ${device_name} (${runtime_id})\" >&2\n  exit 1\nfi\n\nxcrun simctl boot \"$udid\" || true\nxcrun simctl bootstatus \"$udid\" -b\n\nif [ -z \"${DETOX_IOS_DEVICE:-}\" ]; then\n  export DETOX_IOS_DEVICE=\"$device_name\"\nfi\n\nexec tail -f /dev/null\n'\n"
        },
        "ios-simulator-min": {
          "command": "bash -lc '\nset -euo pipefail\n\ndevice_name=\"${IOS_SIM_DEVICE:-${IOS_SIM_MIN_DEVICE:-iPhone 14}}\"\nruntime=\"${IOS_SIM_RUNTIME:-${IOS_SIM_MIN_RUNTIME:-18.5}}\"\nruntime_id=\"$runtime\"\n\nif [[ \"$runtime_id\" =~ ^[0-9] ]]; then\n  runtime_id=\"com.apple.CoreSimulator.SimRuntime.iOS-${runtime_id//./-}\"\nfi\n\nexport IOS_DEVICE_NAME=\"$device_name\"\nexport IOS_RUNTIME_ID=\"$runtime_id\"\n\nudid=$(IOS_DEVICE_NAME=\"$device_name\" IOS_RUNTIME_ID=\"$runtime_id\" python3 - <<\"PY\"\nimport json, os, subprocess, sys\n\ndevice_name = os.environ[\"IOS_DEVICE_NAME\"]\nruntime_id = os.environ[\"IOS_RUNTIME_ID\"]\n\ndef run_json(cmd):\n    return json.loads(subprocess.check_output(cmd).decode())\n\ndef first_available_device():\n    for runtime, devs in run_json([\"xcrun\", \"simctl\", \"list\", \"devices\", \"-j\"]).get(\"devices\", {}).items():\n        for dev in devs or []:\n            if not dev.get(\"isAvailable\"):\n                continue\n            if dev.get(\"name\") == device_name and (not runtime_id or runtime == runtime_id):\n                return dev.get(\"udid\") or \"\"\n    return \"\"\n\ndef resolve_device_type():\n    for entry in run_json([\"xcrun\", \"simctl\", \"list\", \"devicetypes\", \"-j\"]).get(\"devicetypes\", []):\n        if entry.get(\"name\") == device_name:\n            return entry.get(\"identifier\")\n    return None\n\nudid = first_available_device()\nif not udid:\n    device_type = resolve_device_type()\n    if not device_type:\n        print(f\"Device type not found for {device_name}\", file=sys.stderr)\n        sys.exit(1)\n    udid = subprocess.check_output([\"xcrun\", \"simctl\", \"create\", device_name, device_type, runtime_id]).decode().strip()\n\nprint(udid)\nPY\n)\n\nif [ -z \"$udid\" ]; then\n  echo \"Failed to resolve simulator UDID for ${device_name} (${runtime_id})\" >&2\n  exit 1\nfi\n\nxcrun simctl boot \"$udid\" || true\nxcrun simctl bootstatus \"$udid\" -b\n\nif [ -z \"${DETOX_IOS_DEVICE:-}\" ]; then\n  export DETOX_IOS_DEVICE=\"$device_name\"\nfi\n\nexec tail -f /dev/null\n'\n"
        }
      },
      "build": {
        "analytics-react-native": {
          "command": "  set -euo pipefail\n  project_root=\"${PROJECT_ROOT:-$(git rev-parse --show-toplevel 2>/dev/null || pwd)}\"\n  cd \"$project_root\"\n  yarn install --immutable\n  yarn build\n  yarn lint\n  yarn test --coverage\n  out_dir=\"${out:-${OUT:-}}\"\n  if [ -n \"${out_dir:-}\" ]; then\n    mkdir -p \"$out_dir/artifacts\"\n    for pkg in packages/core packages/sovran packages/shared packages/plugins/*; do\n      if [ -d \"$pkg/lib\" ]; then\n        dest=\"$out_dir/artifacts/$(basename \"$pkg\")\"\n        mkdir -p \"$dest\"\n        cp -R \"$pkg/lib\" \"$dest/\"\n      fi\n    done\n    if [ -d coverage ]; then\n      cp -R coverage \"$out_dir/coverage\"\n    fi\n  fi\n",
          "description": "Yarn install, build, lint, and test the monorepo"
        }
      },
      "include": {
        "environments": [
          {
            "dir": "env/common"
          },
          {
            "dir": "env/nodejs"
          },
          {
            "dir": "env/android/min"
          },
          {
            "dir": "env/android/latest"
          },
          {
            "dir": "env/ios/min"
          },
          {
            "dir": "env/ios/latest"
          }
        ]
      }
    },
    "include": [
      {
        "manifest": {
          "version": 1,
          "install": {},
          "vars": {},
          "hook": {
            "on-activate": "    export ROOT_PROJECT=$(git rev-parse --show-toplevel)\n "
          },
          "profile": {},
          "services": {},
          "include": {},
          "build": {},
          "options": {}
        },
        "name": "common",
        "descriptor": {
          "dir": "env/common"
        }
      },
      {
        "manifest": {
          "version": 1,
          "install": {
            "yarn": {
              "pkg-path": "yarn-berry",
              "version": "4.12.0"
            }
          },
          "vars": {},
          "hook": {
            "on-activate": "    yarn\n "
          },
          "profile": {},
          "services": {},
          "include": {
            "environments": [
              {
                "dir": "../common"
              }
            ]
          },
          "build": {},
          "options": {}
        },
        "name": "nodejs",
        "descriptor": {
          "dir": "env/nodejs"
        }
      },
      {
        "manifest": {
          "version": 1,
          "install": {
            "android-sdk": {
              "flake": "path:."
            }
          },
          "vars": {},
          "hook": {},
          "profile": {},
          "services": {},
          "include": {
            "environments": [
              {
                "dir": "../android-common"
              }
            ]
          },
          "build": {},
          "options": {}
        },
        "name": "android-min",
        "descriptor": {
          "dir": "env/android/min"
        }
      },
      {
        "manifest": {
          "version": 1,
          "install": {
            "android-sdk": {
              "flake": "path:."
            }
          },
          "vars": {},
          "hook": {},
          "profile": {},
          "services": {},
          "include": {
            "environments": [
              {
                "dir": "../android-common"
              }
            ]
          },
          "build": {},
          "options": {}
        },
        "name": "android-latest",
        "descriptor": {
          "dir": "env/android/latest"
        }
      },
      {
        "manifest": {
          "version": 1,
          "install": {},
          "vars": {
            "IOS_SIM_DEVICE": "iPhone 14",
            "IOS_SIM_RUNTIME": "18.5"
          },
          "hook": {},
          "profile": {},
          "services": {},
          "include": {
            "environments": [
              {
                "dir": ".."
              }
            ]
          },
          "build": {},
          "options": {}
        },
        "name": "ios-min",
        "descriptor": {
          "dir": "env/ios/min"
        }
      },
      {
        "manifest": {
          "version": 1,
          "install": {},
          "vars": {
            "IOS_SIM_DEVICE": "iPhone 17",
            "IOS_SIM_RUNTIME": "26.1"
          },
          "hook": {},
          "profile": {},
          "services": {},
          "include": {
            "environments": [
              {
                "dir": ".."
              }
            ]
          },
          "build": {},
          "options": {}
        },
        "name": "ios-latest",
        "descriptor": {
          "dir": "env/ios/latest"
        }
      }
    ],
    "warnings": [
      {
        "warning": {
          "Overriding": [
            "install",
            "yarn"
          ]
        },
        "higher_priority_name": "android"
      },
      {
        "warning": {
          "Overriding": [
            "install",
            "yarn"
          ]
        },
        "higher_priority_name": "ios"
      }
    ]
  }
}
